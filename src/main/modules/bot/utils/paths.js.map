{
  "version": 3,
  "sources": ["paths.ts"],
  "sourcesContent": ["/**\n * Path utilities for the LinkedIn Auto Apply Bot\n * \n * All user data is stored in Electron's userData folder:\n * - Windows: %APPDATA%/jobelix\n * - macOS: ~/Library/Application Support/jobelix\n * - Linux: ~/.config/jobelix\n * \n * This keeps user data persistent across app updates and follows OS conventions.\n */\n\nimport * as path from 'path';\nimport * as fs from 'fs';\nimport { app } from 'electron';\n\n/**\n * Get the user data folder path (Electron's userData)\n * This is where all persistent user data is stored.\n */\nexport function getUserDataPath(): string {\n  return app.getPath('userData');\n}\n\n/**\n * Get the data folder path (contains config.yaml, resume.yaml)\n */\nexport function getDataFolderPath(): string {\n  const dataPath = path.join(getUserDataPath(), 'data');\n  if (!fs.existsSync(dataPath)) {\n    fs.mkdirSync(dataPath, { recursive: true });\n  }\n  return dataPath;\n}\n\n/**\n * Get the output folder path (for CSVs, logs)\n */\nexport function getOutputFolderPath(): string {\n  const outputPath = path.join(getUserDataPath(), 'output');\n  if (!fs.existsSync(outputPath)) {\n    fs.mkdirSync(outputPath, { recursive: true });\n  }\n  return outputPath;\n}\n\n/**\n * Get the tailored resumes folder path\n */\nexport function getTailoredResumesPath(): string {\n  const resumesPath = path.join(getUserDataPath(), 'tailored_resumes');\n  if (!fs.existsSync(resumesPath)) {\n    fs.mkdirSync(resumesPath, { recursive: true });\n  }\n  return resumesPath;\n}\n\n/**\n * Get the debug HTML folder path\n */\nexport function getDebugHtmlPath(): string {\n  const debugPath = path.join(getUserDataPath(), 'debug_html');\n  if (!fs.existsSync(debugPath)) {\n    fs.mkdirSync(debugPath, { recursive: true });\n  }\n  return debugPath;\n}\n\n/**\n * Get the Chrome profile path for persistent sessions\n */\nexport function getChromeProfilePath(): string {\n  const chromePath = path.join(getUserDataPath(), 'chrome_profile');\n  if (!fs.existsSync(chromePath)) {\n    fs.mkdirSync(chromePath, { recursive: true });\n  }\n  return chromePath;\n}\n\n/**\n * Get the config.yaml file path\n */\nexport function getConfigPath(): string {\n  return path.join(getDataFolderPath(), 'config.yaml');\n}\n\n/**\n * Get the resume.yaml file path\n */\nexport function getResumePath(): string {\n  return path.join(getDataFolderPath(), 'resume.yaml');\n}\n\n/**\n * Get the old questions CSV path (for answer caching)\n */\nexport function getOldQuestionsPath(): string {\n  return path.join(getOutputFolderPath(), 'old_Questions.csv');\n}\n\n/**\n * Ensure all required directories exist\n */\nexport function ensureDirectories(): void {\n  getDataFolderPath();\n  getOutputFolderPath();\n  getTailoredResumesPath();\n  getDebugHtmlPath();\n  getChromeProfilePath();\n}\n\n/**\n * Get the Chromium executable path from Playwright browsers\n * \n * Electron provides the Playwright browsers path via PLAYWRIGHT_BROWSERS_PATH env var.\n * This function finds the Chromium executable within that directory.\n */\nexport function getChromiumPath(): string {\n  const browsersPath = process.env.PLAYWRIGHT_BROWSERS_PATH;\n  \n  if (!browsersPath) {\n    throw new Error('PLAYWRIGHT_BROWSERS_PATH is not set. The Electron app must provide the Playwright browsers path.');\n  }\n\n  // Find chromium directory (e.g., chromium-1140 or similar)\n  const entries = fs.readdirSync(browsersPath);\n  const chromiumDir = entries.find(e => e.startsWith('chromium-'));\n  \n  if (!chromiumDir) {\n    throw new Error(`No Chromium installation found in: ${browsersPath}`);\n  }\n\n  // Build path to executable based on platform and architecture\n  const platform = process.platform;\n  const arch = process.arch;\n  const chromiumBase = path.join(browsersPath, chromiumDir);\n  \n  // Define possible paths for each platform (prefer arch-specific, fallback to generic)\n  const pathCandidates: string[] = [];\n  \n  if (platform === 'darwin') {\n    if (arch === 'arm64') {\n      pathCandidates.push(path.join(chromiumBase, 'chrome-mac-arm64', 'Chromium.app', 'Contents', 'MacOS', 'Chromium'));\n    }\n    pathCandidates.push(path.join(chromiumBase, 'chrome-mac', 'Chromium.app', 'Contents', 'MacOS', 'Chromium'));\n  } else if (platform === 'win32') {\n    if (arch === 'x64') {\n      pathCandidates.push(path.join(chromiumBase, 'chrome-win64', 'chrome.exe'));\n    }\n    pathCandidates.push(path.join(chromiumBase, 'chrome-win', 'chrome.exe'));\n  } else {\n    // Linux\n    if (arch === 'x64') {\n      pathCandidates.push(path.join(chromiumBase, 'chrome-linux64', 'chrome'));\n    }\n    pathCandidates.push(path.join(chromiumBase, 'chrome-linux', 'chrome'));\n  }\n\n  // Find the first existing path\n  for (const execPath of pathCandidates) {\n    if (fs.existsSync(execPath)) {\n      return execPath;\n    }\n  }\n\n  throw new Error(`Chromium executable not found. Checked paths: ${pathCandidates.join(', ')}`);\n}\n"],
  "mappings": "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",
  "names": []
}
