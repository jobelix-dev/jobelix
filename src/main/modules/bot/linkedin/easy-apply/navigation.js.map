{
  "version": 3,
  "sources": ["navigation.ts"],
  "sourcesContent": ["/**\n * Navigation Handler - Manages Easy Apply modal navigation\n * \n * Handles:\n * - Primary button clicking (Next/Review/Submit)\n * - Modal state detection\n * - Validation error detection\n * - Modal dismissal\n */\n\nimport type { Page, Locator } from 'playwright-core';\nimport { createLogger } from '../../utils/logger';\nimport { MODAL, ERROR_SELECTORS, TIMEOUTS, TOAST_ERROR_SELECTOR, TOAST_MESSAGE_SELECTOR, JOB_CLOSED_PATTERNS } from './selectors';\n\nconst log = createLogger('Navigation');\n\n/** Possible states of the Easy Apply modal */\nexport type ModalState = \n  | 'form'      // Regular form page with Next button\n  | 'review'    // Review page before submission\n  | 'submit'    // Final submit button visible\n  | 'success'   // Application submitted successfully\n  | 'error'     // Error occurred\n  | 'closed'    // Modal was closed\n  | 'unknown';  // Unable to determine state\n\n/** Result after clicking primary button */\nexport interface PrimaryButtonResult {\n  success: boolean;\n  submitted: boolean;\n  error?: string;\n}\n\n/** Primary button selectors in order of preference */\nconst PRIMARY_BUTTON_SELECTORS = [\n  'button[data-live-test-easy-apply-next-button]',\n  'button[data-live-test-easy-apply-review-button]',\n  'button[data-live-test-easy-apply-submit-button]',\n  'button[data-easy-apply-next-button]',\n  'button[aria-label*=\"Continue to next step\"]',\n  'button[aria-label*=\"Review your application\"]',\n  'button[aria-label*=\"Submit application\"]',\n  'button.artdeco-button--primary',\n];\n\nexport class NavigationHandler {\n  constructor(private page: Page) {}\n\n  /**\n   * Click the primary action button (Next/Review/Submit)\n   */\n  async clickPrimaryButton(): Promise<PrimaryButtonResult> {\n    try {\n      const footer = this.page.locator(MODAL.footer).first();\n\n      if (await footer.count() === 0) {\n        return this.handleNoFooter();\n      }\n\n      const { button, label } = await this.findPrimaryButton(footer);\n      if (!button) {\n        return this.handleNoButton();\n      }\n\n      log.info(`Found button: \"${label}\"`);\n      const isSubmit = label.toLowerCase().includes('submit');\n\n      if (isSubmit) {\n        await this.unfollowCompany();\n        log.info('\uD83D\uDE80 Submitting application...');\n      }\n\n      await button.scrollIntoViewIfNeeded();\n      await button.click();\n      log.info(`Clicked button: \"${label}\"`);\n\n      await this.page.waitForTimeout(TIMEOUTS.long);\n\n      if (await this.hasValidationErrors()) {\n        log.warn('Validation errors after clicking button');\n        return { success: false, submitted: false, error: 'Validation errors' };\n      }\n\n      await this.handleSaveApplicationModal();\n      await this.waitForButtonDetach(button);\n      await this.page.waitForTimeout(TIMEOUTS.medium);\n\n      if (isSubmit) {\n        return this.checkSubmitResult();\n      }\n\n      return { success: true, submitted: false };\n    } catch (error) {\n      log.error(`Error clicking primary button: ${error}`);\n      return { success: false, submitted: false, error: String(error) };\n    }\n  }\n\n  /**\n   * Find the primary action button in the footer\n   */\n  private async findPrimaryButton(footer: Locator): Promise<{ button: Locator | null; label: string }> {\n    for (const selector of PRIMARY_BUTTON_SELECTORS) {\n      try {\n        const btn = footer.locator(selector).first();\n        if (await btn.count() > 0 && await btn.isVisible() && await btn.isEnabled()) {\n          const label = (await btn.textContent())?.trim() || await btn.getAttribute('aria-label') || '';\n          return { button: btn, label };\n        }\n      } catch {\n        continue;\n      }\n    }\n    return { button: null, label: '' };\n  }\n\n  /**\n   * Handle case when no footer is found\n   */\n  private async handleNoFooter(): Promise<PrimaryButtonResult> {\n    if (!await this.isModalOpen()) {\n      log.info('Modal closed - application already complete');\n      return { success: true, submitted: true };\n    }\n    return { success: false, submitted: false, error: 'No footer found in modal' };\n  }\n\n  /**\n   * Handle case when no button is found\n   */\n  private async handleNoButton(): Promise<PrimaryButtonResult> {\n    if (!await this.isModalOpen()) {\n      log.info('Modal closed - application complete');\n      return { success: true, submitted: true };\n    }\n    return { success: false, submitted: false, error: 'No primary button found' };\n  }\n\n  /**\n   * Wait for button to detach (page updated)\n   */\n  private async waitForButtonDetach(button: Locator): Promise<void> {\n    try {\n      await button.waitFor({ state: 'detached', timeout: 8000 });\n      log.debug('Button became detached - page updated');\n    } catch {\n      log.debug('Button did not detach within timeout');\n    }\n  }\n\n  /**\n   * Check the result after clicking Submit\n   */\n  private async checkSubmitResult(): Promise<PrimaryButtonResult> {\n    // First check for toast errors (e.g., \"This job is now closed\")\n    const toastError = await this.checkToastError();\n    if (toastError) {\n      const isJobClosed = this.isJobClosedError(toastError);\n      if (isJobClosed) {\n        log.error(`\u274C Job is closed or unavailable: \"${toastError}\"`);\n        return { success: false, submitted: false, error: 'Job closed' };\n      }\n      log.error(`\u274C Toast error after submit: \"${toastError}\"`);\n      return { success: false, submitted: false, error: toastError };\n    }\n\n    const stillOpen = await this.isModalOpen();\n    if (!stillOpen) {\n      log.info('\u2705 Application submitted successfully!');\n      return { success: true, submitted: true };\n    }\n\n    const state = await this.getModalState();\n    if (state === 'success') {\n      log.info('\u2705 Application submitted successfully!');\n      return { success: true, submitted: true };\n    }\n\n    return { success: true, submitted: false };\n  }\n\n  /**\n   * Handle the \"Save this application?\" modal\n   */\n  private async handleSaveApplicationModal(): Promise<boolean> {\n    try {\n      const saveModal = this.page.locator('div.artdeco-modal').filter({ hasText: 'Save this application' });\n\n      if (await saveModal.count() === 0 || !await saveModal.isVisible()) {\n        return false;\n      }\n\n      log.info('\u26A0\uFE0F \"Save this application?\" modal detected');\n\n      const saveButton = await this.findSaveButton(saveModal);\n      if (!saveButton) {\n        log.warn('Could not find Save button in modal');\n        return false;\n      }\n\n      log.info('Clicking \"Save\" button to preserve application');\n      await saveButton.click();\n      await this.page.waitForTimeout(1500);\n\n      try {\n        await saveModal.waitFor({ state: 'hidden', timeout: 3000 });\n        log.info('\u2705 Save modal closed');\n      } catch {\n        log.warn('Save modal didn\\'t close - continuing');\n      }\n\n      await this.waitForModalReopen();\n      return true;\n    } catch (error) {\n      log.debug(`Error handling save modal: ${error}`);\n      return false;\n    }\n  }\n\n  /**\n   * Find the Save button in the save modal\n   */\n  private async findSaveButton(modal: Locator): Promise<Locator | null> {\n    const selectors = [\n      'button[data-control-name*=\"save\"]',\n      'button:has-text(\"Save\")',\n      '.artdeco-modal__footer button.artdeco-button--primary',\n    ];\n\n    for (const selector of selectors) {\n      try {\n        const btn = modal.locator(selector).first();\n        if (await btn.count() > 0) return btn;\n      } catch {\n        continue;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Wait for Easy Apply modal to reopen\n   */\n  private async waitForModalReopen(): Promise<void> {\n    await this.page.waitForTimeout(TIMEOUTS.long);\n    log.info('Waiting for Easy Apply modal to reopen...');\n\n    try {\n      const modal = this.page.locator(MODAL.container).first();\n      await modal.waitFor({ state: 'visible', timeout: 5000 });\n      log.info('\u2705 Easy Apply modal reopened');\n    } catch {\n      log.warn('Easy Apply modal didn\\'t reopen - may have completed');\n    }\n  }\n\n  /**\n   * Unfollow company checkbox before submitting\n   */\n  private async unfollowCompany(): Promise<void> {\n    try {\n      const label = this.page.locator(\"footer label[for='follow-company-checkbox']\").first();\n      if (await label.count() === 0) {\n        log.debug('Follow company label not found');\n        return;\n      }\n\n      await label.evaluate((el) => (el as HTMLElement).scrollIntoView({ block: 'center' }));\n      await this.page.waitForTimeout(200);\n\n      const checkbox = this.page.locator('#follow-company-checkbox').first();\n      if (await checkbox.count() > 0 && await checkbox.isChecked()) {\n        log.debug('Unchecking follow company checkbox');\n        await label.evaluate((el) => (el as HTMLElement).click());\n        log.info('\u2705 Unchecked follow company checkbox');\n      }\n    } catch (error) {\n      log.debug(`Follow company uncheck failed: ${error}`);\n    }\n  }\n\n  /**\n   * Check if Easy Apply modal is still open\n   */\n  async isModalOpen(): Promise<boolean> {\n    try {\n      const modal = this.page.locator(MODAL.container).first();\n      return await modal.count() > 0 && await modal.isVisible();\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Get the current state of the Easy Apply modal\n   */\n  async getModalState(): Promise<ModalState> {\n    try {\n      const modal = this.page.locator('[data-test-modal]').first();\n      if (await modal.count() === 0) return 'closed';\n\n      // Check for success\n      const text = (await modal.textContent() || '').toLowerCase();\n      if (text.includes('application') && (text.includes('sent') || text.includes('submitted'))) {\n        return 'success';\n      }\n\n      // Check for specific buttons\n      const buttonStates: [string, ModalState][] = [\n        ['button[aria-label*=\"Submit application\"]', 'submit'],\n        ['button[aria-label*=\"Review\"]', 'review'],\n        ['button[aria-label*=\"Continue to next step\"]', 'form'],\n      ];\n\n      for (const [selector, state] of buttonStates) {\n        const btn = this.page.locator(selector);\n        if (await btn.count() > 0 && await btn.isVisible()) {\n          return state;\n        }\n      }\n\n      // Check for error\n      if (await this.hasValidationErrors()) return 'error';\n\n      return 'unknown';\n    } catch (error) {\n      log.error(`Error getting modal state: ${error}`);\n      return 'unknown';\n    }\n  }\n\n  /**\n   * Close the Easy Apply modal\n   */\n  async closeModal(): Promise<boolean> {\n    try {\n      const closeButton = this.page.locator('button[aria-label*=\"Dismiss\"]').first();\n      if (await closeButton.count() > 0) {\n        await closeButton.click();\n        await this.page.waitForTimeout(TIMEOUTS.medium);\n        await this.handleDiscardConfirmation();\n        return true;\n      }\n\n      await this.page.keyboard.press('Escape');\n      await this.page.waitForTimeout(TIMEOUTS.medium);\n      await this.handleDiscardConfirmation();\n      return true;\n    } catch (error) {\n      log.error(`Error closing modal: ${error}`);\n      return false;\n    }\n  }\n\n  /**\n   * Handle the \"Discard\" confirmation dialog\n   */\n  private async handleDiscardConfirmation(): Promise<void> {\n    try {\n      const discardButton = this.page.locator('button[data-test-dialog-primary-btn]');\n      if (await discardButton.count() > 0) {\n        const text = await discardButton.textContent();\n        if (text?.toLowerCase().includes('discard')) {\n          await discardButton.click();\n          await this.page.waitForTimeout(TIMEOUTS.medium);\n          log.debug('Clicked Discard in confirmation');\n        }\n      }\n    } catch {\n      // Confirmation might not appear\n    }\n  }\n\n  /**\n   * Check if there are validation errors on the current page\n   */\n  async hasValidationErrors(): Promise<boolean> {\n    try {\n      for (const selector of ERROR_SELECTORS) {\n        const errors = await this.page.locator(selector).all();\n        for (const error of errors) {\n          if (await error.isVisible()) {\n            const text = await error.textContent();\n            if (text?.trim()) {\n              log.warn(`Validation error: \"${text}\"`);\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Get all visible validation error messages\n   */\n  async getValidationErrors(): Promise<string[]> {\n    const errors: string[] = [];\n    try {\n      const errorElements = await this.page.locator('.artdeco-inline-feedback--error').all();\n      for (const element of errorElements) {\n        if (await element.isVisible()) {\n          const text = await element.textContent();\n          if (text?.trim()) errors.push(text.trim());\n        }\n      }\n    } catch {\n      // Ignore errors\n    }\n    return errors;\n  }\n\n  /**\n   * Wait for the modal to finish loading/transitioning\n   */\n  async waitForModalReady(): Promise<void> {\n    try {\n      const loadingSpinner = this.page.locator('.artdeco-spinner');\n      await loadingSpinner.waitFor({ state: 'hidden', timeout: 5000 }).catch(() => {});\n      await this.page.waitForTimeout(TIMEOUTS.medium);\n    } catch {\n      // Modal might already be ready\n    }\n  }\n\n  /**\n   * Check for visible toast error messages (e.g., \"This job is now closed\")\n   * Returns the error message if found, null otherwise\n   */\n  async checkToastError(): Promise<string | null> {\n    try {\n      const toast = this.page.locator(TOAST_ERROR_SELECTOR);\n      if (await toast.count() === 0 || !await toast.isVisible()) {\n        return null;\n      }\n      \n      const message = await toast.locator(TOAST_MESSAGE_SELECTOR).textContent();\n      const errorText = message?.trim() || 'Unknown toast error';\n      log.warn(`Toast error detected: \"${errorText}\"`);\n      return errorText;\n    } catch (error) {\n      log.debug(`Error checking toast: ${error}`);\n      return null;\n    }\n  }\n\n  /**\n   * Check if a toast error indicates the job is closed/unavailable\n   */\n  isJobClosedError(errorMessage: string): boolean {\n    const lowerMessage = errorMessage.toLowerCase();\n    return JOB_CLOSED_PATTERNS.some(pattern => lowerMessage.includes(pattern));\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
